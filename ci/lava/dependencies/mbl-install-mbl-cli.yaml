# Copyright (c) 2019, Arm Limited and Contributors. All rights reserved.
#
# SPDX-License-Identifier: BSD-3-Clause

metadata:
    format: "Lava-Test Test Definition 1.0"
    name: Install the mbl-cli into a LXC Container
    description: "MBL CLI Installation"

run:
    steps:
        # Install the prerequsite packages detailed in the README.md,
        # and python3-pip because the lxc-container does not include 
        # these by default.
        - apt-get install -q -q --yes python3-pip python3-cffi libssl-dev libffi-dev python3-dev
        # Ensure pip version is the latest (8.1.1 doesn't support wheel deployment)
        - pip3 install --upgrade pip

        # Install the mbl-cli
        - pip3 -qqq install -e .

